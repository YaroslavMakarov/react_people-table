(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),o=a(6),m=a(23),s=a(16),u=a(8),d=(a(29),a(1)),i=fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})),b=a(21),h=a.n(b),f=(a(30),["id","name","sex","born","died","age","century","mother","father"]),_=function(){var e=Object(d.h)(),t=Object(d.g)(),a=new URLSearchParams(e.search),c=Object(n.useState)(""),l=Object(u.a)(c,2),o=l[0],m=l[1];return r.a.createElement("thead",null,r.a.createElement("tr",null,f.map((function(e){return r.a.createElement("td",{key:e,className:"head__cell"},r.a.createElement("button",{type:"button",className:"head__button",onClick:function(){a.set("sortBy",e),"asc"===a.get("sortOrder")&&a.get("sortBy")===o?a.set("sortOrder","desc"):a.set("sortOrder","asc"),t.push({search:a.toString()}),m(e)}},e))}))))},p=a(9),E=a.n(p),y=(a(35),function(e){var t=e.person;return r.a.createElement("tr",{className:"body"},r.a.createElement("td",{className:"body__cell"},t.id),r.a.createElement("td",{className:E()("body__cell",{body__name:t.born<1650,body__sex_male:"m"===t.sex,body__sex_female:"f"===t.sex})},r.a.createElement(o.b,{to:"/people/".concat(t.slug),className:"body__link"},t.name)),r.a.createElement("td",{className:E()("body__cell",{body__sex_male:"m"===t.sex,body__sex_female:"f"===t.sex})},t.sex),r.a.createElement("td",{className:"body__cell"},t.born),r.a.createElement("td",{className:"body__cell"},t.died),r.a.createElement("td",{className:E()("body__cell",{body__age:t.died-t.born>=65})},t.died-t.born),r.a.createElement("td",{className:"body__cell"},Math.ceil(t.died/100)),r.a.createElement("td",{className:E()("body__cell",{body__sex_female:t.motherName})},t.motherName?t.motherName:"---------"),r.a.createElement("td",{className:E()("body__cell",{body__sex_male:t.fatherName})},t.fatherName?t.fatherName:"---------"))}),N=(a(36),function(e){var t=e.people,a=Object(n.useState)(""),c=Object(u.a)(a,2),l=c[0],o=c[1],m=Object(d.g)(),s=Object(d.h)(),i=new URLSearchParams(s.search),b=Object(n.useCallback)(h()((function(e){e?i.set("query",e):i.delete("query"),m.push({search:i.toString()})}),500),[]);return r.a.createElement("div",{className:"table"},r.a.createElement("h1",null,"People"),r.a.createElement("input",{className:"table__search_field",type:"text",value:l,onChange:function(e){var t=e.target;o(t.value),b(t.value)}}),r.a.createElement("table",{className:"table__wrapper"},r.a.createElement(_,null),r.a.createElement("tbody",null,t.filter((function(e){return(e.name+e.motherName+e.fatherName).toLowerCase().includes((i.get("query")||"").toLowerCase())})).map((function(e){return r.a.createElement(y,{person:e,key:e.id})})))))}),g=(a(37),function(){return r.a.createElement("header",{className:"header"},r.a.createElement(o.b,{to:"/",className:"header__link"},"Home"),r.a.createElement(o.b,{to:"/people",className:"header__link"},"People"))}),O=function(){var e,t,a=Object(n.useState)([]),c=Object(u.a)(a,2),l=c[0],o=c[1],b=Object(d.h)(),h=new URLSearchParams(b.search);!function(e){e.id="id",e.born="born",e.died="died",e.century="century",e.age="age"}(e||(e={})),function(e){e.name="name",e.sex="sex",e.motherName="motherName",e.fatherName="fatherName"}(t||(t={})),Object(n.useEffect)((function(){i.then((function(e){o(e.map((function(t,a){return Object(s.a)(Object(s.a)({},t),{},{id:a+1,father:e.find((function(e){return e.name===t.fatherName})),mother:e.find((function(e){return e.name===t.motherName})),century:Math.ceil(t.died/100),age:t.died-t.born})})))}))}),[]);var f=function(e){return"asc"===h.get("sortOrder")?function(t,a){return t[e]-a[e]}:function(t,a){return a[e]-t[e]}},_=function(e){return"asc"===h.get("sortOrder")?function(t,a){return(t[e]||"z").localeCompare(a[e]||"z")}:function(t,a){return(a[e]||"z").localeCompare(t[e]||"z")}},p=function(){return 0};return Object(n.useMemo)((function(){switch(h.get("sortBy")){case"id":p=f(e.id);break;case"name":p=_(t.name);break;case"sex":p=_(t.sex);break;case"born":p=f(e.born);break;case"died":p=f(e.died);break;case"age":p=f(e.age);break;case"century":p=f(e.century);break;case"mother":p=_(t.motherName);break;case"father":p=_(t.fatherName);break;default:o(l)}o(Object(m.a)(l.sort(p)))}),[b.search]),r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,render:function(){return r.a.createElement("h1",null,"Home")}}),r.a.createElement(d.b,{path:"/people/:name?",render:function(){return r.a.createElement(N,{people:l})}}),r.a.createElement(d.a,{from:"/home",to:"/"}),r.a.createElement(d.b,{path:"*"},r.a.createElement("h1",null,"Not Found"))))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6ba28b0a.chunk.js.map